# CODE-homework API Service

Это простой REST API сервис для управления заметками, разработанный на Go. Сервис позволяет добавлять и получать заметки, поддерживает аутентификацию пользователей и интеграцию с сервисом Яндекс.Спеллер для проверки орфографии.
Затраченное время на проект, около 12 часов (из них около 8 часов ушло на переписание с нуля)
Основные сложности: вынесение хендлеров 

## Возможности

- **Добавление и получение заметок**: Пользователи могут создавать новые заметки и получать список своих заметок.
- **Аутентификация пользователей**: Доступ к заметкам осуществляется только после аутентификации. Пользователи могут видеть и изменять только свои заметки.
- **Проверка орфографии**: Интеграция с Яндекс.Спеллер позволяет проверять текст заметок на наличие орфографических ошибок перед сохранением.

## Стек технологий

- **Golang** — основной язык для создания API.
- **PostgreSQL** — база данных для хранения пользователей и заметок.
- **Docker** — контейнеризация приложения и базы данных для простого развёртывания.
- **Yandex.Speller API** — используется для проверки орфографии.

## Запуск проекта

### Шаг 1: Клонирование репозитория

```bash
git clone https://github.com/Roadtogolangdev/CODE-hw.git
cd CODE-hw
```

### Шаг 2: Запуск через Docker

Для того чтобы запустить проект в контейнерах, убедитесь, что у вас установлен Docker и Docker Compose. Затем выполните команду:

```bash
docker-compose up --build
```

Эта команда запустит как приложение, так и базу данных PostgreSQL.

### Шаг 3: Проверка работоспособности

Приложение будет доступно по адресу `http://localhost:8080`.

## Примеры API запросов

### Добавление заметки

```bash
curl -X POST http://localhost:8080/notes \
-H "Authorization: Basic <ваш_логин_и_пароль_в_base64>" --- тут придется заранее закодировать ваш пароль, в файле init.sql есть уже закодированый логин admin и закодированый пароль admin\
-H "Content-Type: application/json" \
-d '{"text": "Заметка номер один"}'
```

### Получение всех заметок

```bash
curl -X GET http://localhost:8080/notes \
-H "Authorization: Basic <ваш_логин_и_пароль_в_base64>"
```

## Среда разработки

- **Postman** — для тестирования API. Коллекция находится в корне проекта
- **Go modules** — для управления зависимостями.
- **Gorilla Mux** — для маршрутизации запросов.

## Переменные окружения

- `POSTGRES_USER` — имя пользователя для подключения к PostgreSQL.
- `POSTGRES_PASSWORD` — пароль для подключения к базе данных.
- `POSTGRES_DB` — название базы данных.
- `DATABASE_URL` — URL для подключения к базе данных.

## Структура проекта

- **cmd/app** — основная точка входа в приложение.
- **internal/auth** — логика аутентификации пользователей.
- **internal/notes** — обработка запросов, связанных с заметками.
- **internal/storage** — взаимодействие с базой данных.

## Как работать с базой данных

Для управления базой данных PostgreSQL используется Docker, так что база данных будет автоматически создана и запущена при выполнении команды `docker-compose up`.

## Лицензия

Этот проект лицензирован под лицензией MIT.
```
